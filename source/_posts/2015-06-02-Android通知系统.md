---
title:        "Android 通知"
date:         2015-6-02 17:00
categories:   Android
tags:
- Android
- API
---

对API的简单翻译

<!--more-->

通知是一种独立于APP的UI外的一种消息显示方式。当你告诉系统需要发送一个通知时，首先他会显示一个图标在通知栏区域。下拉则可以看到通知的详细信息（原文把这里比作抽屉）。通知栏区域和下拉的区域都是属于系统控制（这部分属于 Framework中的SystemUI）。


## 设计

通知作为Android系统中重要的一部分，有着自己的设计指导。Android 5.0 中提出的Material Design特别重要，你应该查看[Training]()中的有关章节。阅读[通知设计指导]()学习有关通知的设计知识。

## 创建一个通知

你可以在[NotificationCompat.Builder]()中制定一些信息，通过[NotificationCompat.Builder.build()]()创建一个Notification。通过调用[NotificationManager.notify()]()发布通知。

### 需要的元素

一个 Notification 必须包含以下元素：
* 一个小的图标，[setSmallIcon()]()
* 标题，[setContentTitle()]()
* 详细内容，[setContentText()]()

缺少任何一个通知都不会出现在通知栏上（之前犯过一个错误，没加smallicon，结果只震动不显示通知）。

### 可选的配置和元素

除了上面三个以外其余的参数都是可选的，更多内容请参考[NotificationCompat.Builder]()。

### 通知Action

该参数为可选参数，你需要添加至少一个Action。Action可以让用户从通知直接跳转到程序的Activity，以便进一步的操作。

一个通知可以提供多个action，你总是需要提供一个用户点击通知后的action，通常这个action是打开一个Activity。也可以给通知加一个按钮执行额外的动作，例如闹钟的打盹和短信的立即回复功能，这个功能在Android 4.1上实现。如果你添加了额外的按钮，你必须确定他对应的功能都实现了，后面处理兼容性的章节会有详细介绍。

### 通知的优先级